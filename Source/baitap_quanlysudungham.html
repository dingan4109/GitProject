<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Bài tập: Quản lý sử dụng hàm</title>
</head>
<body>
<div id="display"></div>
<input type="hidden" id="hidden">
</body>
</html>
<script>
    let productList = ['item1','item2','item3'];
    function displayProduct(arr) {
        let table = "<table>\n" +
            "    <tr>\n" +
            "        <td colspan='3'>Product Name</td>\n" +
            "    </tr>";
        let num =0;
        for (let i = 0; i < arr.length; i++) {
            table += "   <tr>\n" +
                "        <td>" + ++num + "</td>\n" +
                "        <td>" + arr[i] + "</td>\n" +
                "        <td><button type='button' onclick=\"edit("+i+")\">Edit</button></td>\n" +
                "        <td><button type='button' onclick=\"delProduct("+i+")\">Delete</button></td>\n" +
                "    </tr>";
        }
        table += "</tr>\n" +
            "        <tr>\n" +
            "        <td colspan=\"2\">Add New Product</td>\n" +
            "    </tr>\n" +
            "    <tr>\n" +
            "        <td><input type=\"text\" placeholder=\"New Product\" id='inputNewProduct'></td>\n" +
            "        <td><button type=\"button\" onclick='addNewProduct()'>Add</button></td>\n" +
            "    </tr>" +
            "  <tr>\n" +
            "        <td><input type=\"text\" placeholder=\"Edit Product\" id='show'></td>\n" +
            "        <td><button type=\"button\" onclick=\"updateProduct()\">Update</button></td>\n" +
            "    </tr>"
            + "</table>";
        document.getElementById('display').innerHTML = table;
    }
    function edit(i) {
        document.getElementById('show').value = productList[i];
        document.getElementById('hidden').value = i;
    }
    function updateProduct() {
        let oldNameIndex = document.getElementById('hidden').value;
        let newName = document.getElementById('show').value;
        productList[oldNameIndex] = newName;
        displayProduct(productList)
    }
    function delProduct(i) {
        productList.splice(i,1);
        displayProduct(productList);
    }
    function addNewProduct() {
        let value = document.getElementById('inputNewProduct').value;
        productList.push(value);
        displayProduct(productList);
        alert('You\'ve just add '+value+' into product list' )
    }

    displayProduct(productList);
</script>